# PostgreSQL Performance Configuration
# Copy this file to your PostgreSQL data directory or include it from postgresql.conf

# Memory Configuration
shared_buffers = 2GB                    # Increased from default (typically 128MB)
maintenance_work_mem = 10GB             # Increased for maintenance operations like VACUUM, CREATE INDEX
autovacuum_work_mem = 2GB               # Dedicated memory for autovacuum processes
work_mem = 50MB                         # Memory used for sort operations and hash tables per operation

# Write Performance
synchronous_commit = off                # Improves performance but risks data loss on crash
max_wal_size = 1GB                      # Controls WAL size before checkpoint
checkpoint_timeout = 60min              # Time between automatic checkpoints
checkpoint_completion_target = 0.9      # Spreads checkpoint I/O over time

# Query Planning
random_page_cost = 1.0                  # Assumes SSD storage (lower value)

# WAL Configuration (for non-production environments)
wal_level = minimal                     # Minimal WAL logging (no replication)
max_wal_senders = 0                     # No replication connections 